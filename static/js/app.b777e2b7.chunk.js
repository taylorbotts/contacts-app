(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{298:function(t,e,n){"use strict";var r=n(20),o=n.n(r),a=n(7),c=n.n(a),i=n(29),s=n.n(i),u=n(0),l=n(6),f=n(51),m=n(2),p=n(3),d=n(162),h=n(114),v=n(247),y=n(244),b=n(473),g=n(474),O="#ccc",S="#2f95dc";function E(t){return u.createElement(v.a,{name:t.name,size:30,style:{marginBottom:-3},color:t.focused?S:O})}var C=n(8),j=n.n(C),N=n(9),w=n.n(N),P=n(10),k=n.n(P),D=n(13),x=n.n(D),R=n(4),A=n.n(R),T=n(17),I=n(80),B=n(43);function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var H={method:"GET",headers:{API:"botts","Content-Type":"application/json",Accept:"application/json"}},z=function(t){k()(r,t);var e,n=(e=r,function(){var t,n=A()(e);if(M()){var r=A()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return x()(this,t)});function r(t){var e;return j()(this,r),(e=n.call(this,t)).state={contacts:[],currentScreen:0,newContactName:"",newContactNum:""},e.focusListener=t.navigation.addListener("focus",(function(){return e.componentDidMount()})),e}return w()(r,[{key:"componentDidMount",value:function(){var t=this;fetch("https://plato.mrl.ai:8081/contacts",H).then((function(t){return t.json()})).then((function(e){t.setState({contacts:e.contacts})}))}},{key:"addContact",value:function(){var t=this,e=J({},H,{method:"POST",body:JSON.stringify({name:this.state.newContactName,number:this.state.newContactNum})});fetch("http://plato.mrl.ai:8080/contacts/add",e).then((function(t){return t.json()})).then((function(){return t.setState({currentScreen:0,newContactName:"",newContactNum:""})})),this.componentDidMount()}},{key:"removeContact",value:function(t){var e=this,n=J({},H,{method:"POST",body:JSON.stringify({position:t})});fetch("http://plato.mrl.ai:8080/contacts/remove",n).then((function(t){return t.json()})).then((function(n){if(!n.error){var r=e.state.contacts.filter((function(e,n){return n!==t}));e.setState({contacts:r})}}))}},{key:"render",value:function(){var t=this;return u.createElement(u.Fragment,null,u.createElement(B.d,{style:F.container,contentContainerStyle:F.contentContainer},this.state.contacts.map((function(e,n){return u.createElement(I.b,{key:n,title:u.createElement(p.a,{style:{display:"flex",flexDirection:"row",marginBottom:10}},u.createElement(T.a,{style:{fontSize:20}},e.name),u.createElement(p.a,{style:{flexGrow:1}}),u.createElement(T.a,{style:{color:"red",fontSize:20,cursor:"pointer"},onPress:function(){return t.removeContact(n)}},"\xd7"))},u.createElement(T.a,null,e.number))}))))}}]),r}(u.Component);z.navigationOptions={header:null};var F=m.a.create({container:{flex:1,backgroundColor:"#fafafa"}});function G(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var W=function(t){k()(r,t);var e,n=(e=r,function(){var t,n=A()(e);if(G()){var r=A()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return x()(this,t)});function r(t){var e;return j()(this,r),(e=n.call(this,t)).state={userName:"",numContacts:""},e}return w()(r,[{key:"componentDidMount",value:function(){var t=this;fetch("https://plato.mrl.ai:8081/profile",{method:"GET",headers:{API:"botts","Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(e){t.setState({userName:e.name,numContacts:e.count})}))}},{key:"render",value:function(){return u.createElement(B.d,{style:U.container,contentContainerStyle:U.contentContainer},""!==this.state.userName?u.createElement(I.b,{title:this.state.userName},u.createElement(T.a,{style:{textAlign:"center"}},"Number of Contacts: ",this.state.numContacts)):null)}}]),r}(u.Component),U=m.a.create({container:{flex:1,backgroundColor:"#fafafa"},contentContainer:{paddingTop:15}});function q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var K=function(t){k()(r,t);var e,n=(e=r,function(){var t,n=A()(e);if(q()){var r=A()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return x()(this,t)});function r(t){var e;return j()(this,r),(e=n.call(this,t)).state={submitDisabled:!0,contactName:"",contactNumber:""},e.focusListener=t.navigation.addListener("focus",(function(){return e.setState({contactName:"",contactNumber:""})})),e}return w()(r,[{key:"handleNameInput",value:function(t){t.length>0?this.setState({contactName:t}):this.setState({submitDisabled:!0})}},{key:"handleNumInput",value:function(t){this.state.contactName.length>0&&t.length>0?this.setState({submitDisabled:!1,contactNumber:t}):this.setState({submitDisabled:!0})}},{key:"add",value:function(){var t=this;fetch("https://plato.mrl.ai:8081/contacts/add",{method:"POST",headers:{API:"botts","Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:this.state.contactName,number:this.state.contactNumber})}).then((function(t){return t.json()})).then((function(e){e.error||(t.setState({contactName:"",contactNumber:""}),t.props.navigation.navigate("home"))}))}},{key:"render",value:function(){var t=this;return u.createElement(u.Fragment,null,u.createElement(B.d,{style:Q.container,contentContainerStyle:Q.contentContainer},u.createElement(T.a,{style:{margin:10}},"Name"),u.createElement(I.c,{placholder:"Name",onChangeText:function(e){return t.handleNameInput(e)}}),u.createElement(T.a,{style:{margin:10}},"Number"),u.createElement(I.c,{placholder:"Number",onChangeText:function(e){return t.handleNumInput(e)}})),u.createElement(I.a,{title:"Add Contact",onPress:function(){return t.add()},disabled:this.state.submitDisabled}),u.createElement(I.a,{title:"Back",buttonStyle:{backgroundColor:"#ff483b"},onPress:function(){return t.props.navigation.navigate("home")}}))}}]),r}(u.Component),Q=m.a.create({container:{flex:1,backgroundColor:"#ffffff"}}),V=Object(g.a)();function X(t){var e=t.navigation,n=t.route;return e.setOptions({headerTitle:Y(n)}),u.createElement(V.Navigator,{initialRouteName:"Home"},u.createElement(V.Screen,{name:"home",component:z,options:{title:"Contacts",tabBarIcon:function(t){var e=t.focused;return u.createElement(E,{focused:e,name:"ios-contacts"})}}}),u.createElement(V.Screen,{name:"add",component:K,options:{title:"Add Contact",tabBarIcon:function(t){var e=t.focused;return u.createElement(E,{focused:e,name:"md-add"})}}}),u.createElement(V.Screen,{name:"profile",component:W,options:{title:"Profile",tabBarIcon:function(t){var e=t.focused;return u.createElement(E,{focused:e,name:"md-person"})}}}))}function Y(t){var e,n,r;switch(null!=(e=null==(n=t.state)||null==(r=n.routes[t.state.index])?void 0:r.name)?e:"Home"){case"home":return"Contacts";case"profile":return"Profile";case"add":return"Add New Contact"}}var Z=n(242),$=n(246);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return nt}));var et=Object(b.a)();function nt(t){var e=u.useState(!1),r=s()(e,2),a=r[0],c=r[1],i=u.useState(),m=s()(i,2),b=m[0],g=m[1],O=u.useRef(),S=function(t){return Object(Z.a)(t,{prefixes:[$.a.makeUrl("/")],config:{Root:{path:"Root",screens:{Home:"contacts",AddContact:"add",Profile:"profile"}}}})}(O).getInitialState;return u.useEffect((function(){o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d.a.preventAutoHide(),t.t0=g,t.next=5,o.a.awrap(S());case 5:return t.t1=t.sent,(0,t.t0)(t.t1),t.next=9,o.a.awrap(h.b(tt({},v.a.font,{"space-mono":n(460)})));case 9:t.next=14;break;case 11:t.prev=11,t.t2=t.catch(0),console.warn(t.t2);case 14:return t.prev=14,c(!0),d.a.hide(),t.finish(14);case 18:case"end":return t.stop()}}),null,null,[[0,11,14,18]],Promise)}),[]),a||t.skipLoadingScreen?u.createElement(p.a,{style:rt.container},"ios"===l.a.OS&&u.createElement(f.a,{barStyle:"default"}),u.createElement(y.a,{ref:O,initialState:b},u.createElement(et.Navigator,null,u.createElement(et.Screen,{name:"Root",component:X})))):null}var rt=m.a.create({container:{flex:1,backgroundColor:"#fff"}})},311:function(t,e,n){n(312),t.exports=n(313)},312:function(t,e){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/contacts-app/expo-service-worker.js",{scope:"/contacts-app/"}).then((function(t){})).catch((function(t){console.info("Failed to register service-worker",t)}))}))},460:function(t,e,n){t.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[311,1,2]]]);
//# sourceMappingURL=app.b777e2b7.chunk.js.map